<nav class="side_menu">
  {% assign categories_max = 0 %}
  {% for category in site.categories %}
    {% if category[1].size > categories_max %}
      {% assign categories_max = category[1].size %}
    {% endif %}
  {% endfor %}

  {% for i in (1..categories_max) %}
    {% for category in site.categories %}
      {% if category[1].size == i %}
        <section id="{{ category[0] | slugify | upcase }}" class="taxonomy__section">
          <h3>{{ category[0] }}</h3>
          <div class="entries-{{ page.entries_layout | default: 'list' }}">
            {% for post in category.last reversed %}
              	{% if page.url == post.url %}
                	<h4><a href="{{site.baseurl}}{{post.url}}" class="active">{{post.title}}</a></h4>
          		{% else %}
            		<h4><a href="{{site.baseurl}}{{post.url}}">{{post.title}}</a></h4>
          		{% endif %}
            {% endfor %}
          </div>
        </section>
      {% endif %}
    {% endfor %}
  {% endfor %}
</nav>